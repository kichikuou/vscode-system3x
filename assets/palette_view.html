<!DOCTYPE html>
<html><head>
<style>
table {
    border-collapse: collapse;
    width: 100%;
}
td {
    width: 5vw;
    height: 5vw;
    border: 1px solid #ccc;
}
</style>
</head><body>
<table id="palette" />
<script>
const cells = [];

function createPaletteGrid() {
    const table = document.getElementById("palette");
    for (let i = 0; i < 16; i++) {
        const row = table.insertRow();
        for (let j = 0; j < 16; j++) {
            cells.push(row.insertCell());
        }
    }
}

function updatePaletteGrid(palette) {
    for (let i = 0; i < 256; i++) {
        const color = palette[i];
        const red = (color >> 16) & 0xFF;
        const green = (color >> 8) & 0xFF;
        const blue = color & 0xFF;
        cells[i].style.backgroundColor = `rgb(${red}, ${green}, ${blue})`;
    }
}

createPaletteGrid();
window.addEventListener("message", (e) => updatePaletteGrid(e.data));
acquireVsCodeApi().postMessage('loaded');
</script>
</body></html>
